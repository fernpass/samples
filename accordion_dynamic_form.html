<!doctype html>
<html lang="en">
<head>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
        crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
          crossorigin="anonymous"></script>
</head>

<body>

<form method="get">
  <div class="accordion" id="accordionExample">

<!--  BLOCK 1 -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingOne">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block1" aria-expanded="false" aria-controls="collapseOne">
          Accordion Item #1
        </button>
      </h2>
      <div id="block1" class="accordion-collapse collapse" aria-labelledby="headingOne">
        <div class="accordion-body">
          <input type="text" id="text1a" name="text1a"/>
          <input type="text" id="text1b" name="text1b"/>
        </div>
      </div>
    </div>

<!--  BLOCK 2 -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingTwo">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block2" aria-expanded="false" aria-controls="collapseTwo">
          Accordion Item #2
        </button>
      </h2>
      <div id="block2" class="accordion-collapse collapse" aria-labelledby="headingTwo">
        <div class="accordion-body">
          <input type="text" id="text2" name="text2"/>
        </div>
      </div>
    </div>

<!--  BLOCK 3 -->
    <div class="accordion-item">
      <h2 class="accordion-header" id="headingThree">
        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#block3" aria-expanded="false" aria-controls="collapseThree">
          Accordion Item #3
        </button>
      </h2>
      <div id="block3" class="accordion-collapse collapse" aria-labelledby="headingThree">
        <div class="accordion-body">
          <input type="text" id="text3" name="text3"/>
        </div>
      </div>
    </div>

  </div>

  <input id="btnSubmit" type="button" value="Submit"/>

</form>

</body>

<script type="application/javascript">

  $('#btnSubmit').on('click', function () {
    console.log('click', $('#text1').val());

    var form = $("<form>", {
      action: '/server-url',
      method: 'get'
    });

// --- BLOCK 1 ----------------------------------
    if ($("#block1").hasClass("show")) {

      form.append(
        $("<input>", {
          name: 'Abo Typ',
          type: 'hidden',
          value: 'Abo Typ'
        })
      );

      form.append(
        $("<input>", {
          name: 'text1a',
          type: 'text',
          value: $('#text1a').val()
        })
      );
      form.append(
        $("<input>", {
          name: 'text1b',
          type: 'text',
          value: $('#text1b').val()
        })
      );
    }

// --- BLOCK 2 ----------------------------------
    if ($("#block2").hasClass("show")) {
      form.append(
        $("<input>", {
          name: 'text2',
          type: 'text',
          value: $('#text2').val()
        })
      );
    }

// --- BLOCK 3 ----------------------------------
    if ($("#block3").hasClass("show")) {
      form.append(
        $("<input>", {
          name: 'text3',
          type: 'text',
          value: $('#text3').val()
        })
      );
    }

    $(document.body).append(form);
    //form.submit();

  });

</script>

</html>
